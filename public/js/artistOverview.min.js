function bindLoadMore(){$("body").on("click",".load-more>button",function(){$(this).html('<img src="'+baseurl+'/img/ajax-loader.gif"/>');var modulo=$(".artist").length%30;if(0==modulo)if(""!=$(".search-box input").attr("value")){var search=$(".search-box input").attr("value"),currentPage=$(".artist").length/30;$.ajax({method:"GET",url:baseurl+"/artists/search/"+search+"/page/"+(currentPage+1)}).done(function(data){if(200==data.status){var html=$(".artists").html(),toAppendHtml="";for(artist in data.data)toAppendHtml=toAppendHtml+'<div class="artist" data-name="'+data.data[artist].name+'"><img class="lazy" data-original="'+data.data[artist].image.url+'" width="42" height="42">'+data.data[artist].name+"</div>";$(".artists").html(html+toAppendHtml),$("img.lazy").lazyload(),$(".load-more>button").html("Meer laden")}})}else{var currentPage=$(".artist").length/30;$.ajax({method:"GET",url:baseurl+"/artists/page/"+(currentPage+1)}).done(function(data){if(200==data.status){var html=$(".artists").html(),toAppendHtml="";for(artist in data.data)toAppendHtml=toAppendHtml+'<div class="artist" data-name="'+data.data[artist].name+'"><img class="lazy" data-original="'+data.data[artist].image.url+'" width="42" height="42">'+data.data[artist].name+"</div>";$(".artists").html(html+toAppendHtml),$("img.lazy").lazyload(),$(".load-more>button").html("Meer laden")}})}else setTimeout(function(){$(".load-more>button").html("Geen resultaten meer.")},1e3)})}function bindSearch(){$(".search-box input").keypress(function(e){13==e.keyCode&&searchArtist()}),$("body").on("click",".search-box>button",function(){searchArtist()})}function searchArtist(){var search=$(".search-box input").val();window.location.href=""==search?baseurl+"/artists/":baseurl+"/artists/search/"+search}function bindGetArtist(){$("body").on("click",".artist",function(){window.location.href=baseurl+"/artist/"+$(this).data("name")})}$(function(){$("img.lazy").lazyload(),bindLoadMore(),bindSearch(),bindGetArtist()});